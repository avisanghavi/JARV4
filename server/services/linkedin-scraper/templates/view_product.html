{% extends "layout.html" %}

{% block content %}
<div class="card">
    <div class="card-header d-flex justify-content-between align-items-center">
        <h4>Product Description Analysis</h4>
        <a href="{{ url_for('define_icp') }}" class="btn btn-outline-primary">Define ICP & Personas</a>
    </div>
    <div class="card-body">
        <div class="alert alert-info">
            <p>iClout has analyzed your product description and generated suggested Ideal Customer Profile (ICP) and Personas. You can review and modify these in the next step.</p>
        </div>
        
        <div class="row mt-4">
            <div class="col-md-6">
                <div class="card h-100">
                    <div class="card-header bg-light">
                        <h5>Generated ICP</h5>
                    </div>
                    <div class="card-body">
                        <p><strong>Industry:</strong> {{ icp_data.icp.industry }}</p>
                        <p><strong>Company Size:</strong> {{ icp_data.icp.company_size }}</p>
                        <p><strong>Geography:</strong> {{ icp_data.icp.geography }}</p>
                        
                        <p><strong>Other Criteria:</strong></p>
                        <ul>
                            {% for criterion in icp_data.icp.other_criteria %}
                                <li>{{ criterion }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6">
                <div class="card mb-3">
                    <div class="card-header bg-light">
                        <h5>Buyer Persona</h5>
                    </div>
                    <div class="card-body">
                        <p><strong>Title:</strong> {{ icp_data.buyer_persona.title }}</p>
                        <p><strong>Role:</strong> {{ icp_data.buyer_persona.role }}</p>
                        
                        <p><strong>Pain Points:</strong></p>
                        <ul>
                            {% for pain in icp_data.buyer_persona.pain_points %}
                                <li>{{ pain }}</li>
                            {% endfor %}
                        </ul>
                        
                        <p><strong>Search Terms:</strong> {{ icp_data.buyer_persona.search_terms }}</p>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header bg-light">
                        <h5>User Persona</h5>
                    </div>
                    <div class="card-body">
                        <p><strong>Title:</strong> {{ icp_data.user_persona.title }}</p>
                        <p><strong>Role:</strong> {{ icp_data.user_persona.role }}</p>
                        
                        <p><strong>Pain Points:</strong></p>
                        <ul>
                            {% for pain in icp_data.user_persona.pain_points %}
                                <li>{{ pain }}</li>
                            {% endfor %}
                        </ul>
                        
                        <p><strong>Search Terms:</strong> {{ icp_data.user_persona.search_terms }}</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="mt-4 p-3 bg-light rounded border">
            <h5>Original Product Description</h5>
            <pre class="mt-3" style="white-space: pre-wrap; font-family: inherit;">{{ product_text }}</pre>
        </div>
    </div>
</div>
{% endblock %}